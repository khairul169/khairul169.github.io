(this["webpackJsonpmusic-mp4"]=this["webpackJsonpmusic-mp4"]||[]).push([[0],{100:function(e,t){},126:function(e,t,a){e.exports=a.p+"static/media/graphic-design.658e8506.png"},127:function(e,t,a){e.exports=a.p+"static/media/music.e4329ecd.png"},128:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(11),o=a.n(c),l=(a(63),a(64),a(65),a(8)),i=a.n(l),s=a(13),u=a(9),m=a(57),p=a(135),d=a(130),f=a(131),g=a(132),h=a(133),b=a(134),v=a(56),E=a.n(v),x=a(19),w=a.n(x),k="https://music-mp4.herokuapp.com",y={API_URL:k,get:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w.a.get(k+t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),post:function(){var e=Object(s.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w.a.post(k+t,JSON.stringify(a),{headers:{"Content-Type":"application/json"}}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),postMultipart:function(){var e=Object(s.a)(i.a.mark((function e(t,a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new FormData,Object.keys(a).forEach((function(e){var t=a[e];n.append(e,t)})),e.abrupt("return",w.a.post(k+t,n,{headers:{"Content-Type":"multipart/form-data"}}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},j=function(){return r.a.createElement("div",{className:"d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom box-shadow"},r.a.createElement("h5",{className:"my-0 mr-md-auto font-weight-normal"},"Music MP3"),r.a.createElement("nav",{className:"my-2 my-md-0 mr-md-3"},r.a.createElement("a",{className:"p-2 text-dark",href:"/"},"Home"),r.a.createElement("a",{className:"p-2 text-dark",href:"/"},"About")),r.a.createElement("a",{className:"btn btn-outline-primary",href:"/"},"Sign up"))},O=function(e){var t=e.onDrop,a=e.children,n=Object(m.a)({onDrop:t}),c=n.getRootProps,o=n.getInputProps;return r.a.createElement("div",c(),r.a.createElement("input",o()),a)},N=function(){var e=Object(n.useState)(),t=Object(u.a)(e,2),c=t[0],o=t[1],l=Object(n.useState)(),m=Object(u.a)(l,2),v=m[0],x=m[1],w=Object(n.useState)(),k=Object(u.a)(w,2),N=k[0],P=k[1],S=Object(n.useState)(!1),D=Object(u.a)(S,2),I=D[0],R=D[1],C=Object(n.useState)(),M=Object(u.a)(C,2),_=M[0],A=M[1],U=Object(n.useState)(),L=Object(u.a)(U,2),J=L[0],q=L[1],B=function(){return o(null)},F=function(){var e=Object(s.a)(i.a.mark((function e(){var t,a,n,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),e.prev=1,t={mp3:c,image:v},B(),e.next=6,y.postMultipart("/upload",t);case 6:if(a=e.sent,(n=a.data)&&n.taskId){e.next=10;break}return e.abrupt("return");case 10:r=n.taskId,(o=E()(y.API_URL)).on("connect",(function(){o.emit("task_progress",r)})),o.on("queue_progress",(function(e){var t=e.progress;t&&A(Math.round(t))})),o.on("queue_end",(function(e){var t=e.filename,a={name:t,url:"".concat(y.API_URL,"/download/").concat(t)};q(a),R(!1)})),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"full-height d-flex flex-column"},r.a.createElement(j,null),r.a.createElement(p.a,{isOpen:null!=c,toggle:B,centered:!0},r.a.createElement(d.a,{toggle:B},"Convert to MP4"),r.a.createElement(f.a,null,v&&N?r.a.createElement("div",{className:"text-center"},r.a.createElement("div",{style:{backgroundImage:"url('".concat(N,"')"),backgroundPosition:"center",backgroundSize:"contain",backgroundRepeat:"no-repeat",width:"100%",height:"200px"}}),r.a.createElement("p",{className:"mt-2"},c?c.name:"")):r.a.createElement(O,{onDrop:function(e){if(e.length){var t=e[0];if("image/jpeg"===t.type||"image/png"===t.type){var a=new FileReader;a.onload=function(e){var t=e.target.result;P(t)},a.readAsDataURL(t),x(t)}}}},r.a.createElement("div",{className:"d-flex flex-column align-items-center p-3"},r.a.createElement("img",{src:a(126),width:96,alt:"pict"}),r.a.createElement("p",{className:"mt-3"},"Drag n drop image file here, or click to select file")))),r.a.createElement(g.a,null,r.a.createElement(h.a,{color:"primary",disabled:!v,onClick:F},"Process"),r.a.createElement(h.a,{onClick:B},"Cancel"))),r.a.createElement("div",{className:"flex-grow-1 d-flex flex-column align-items-center justify-content-center pb-3"},I?r.a.createElement("div",{className:"d-flex flex-column align-items-center"},r.a.createElement(b.a,{color:"primary",style:{width:64,height:64}}),r.a.createElement("h6",{className:"mt-3"},_?"Processing.. (".concat(_,"%)"):"Uploading...")):r.a.createElement("div",null,J?r.a.createElement("div",{className:"d-flex flex-column align-items-center p-5"},r.a.createElement("h5",null,J.name),r.a.createElement(h.a,{className:"mt-3",color:"primary",onClick:function(){window.location.href=J.url}},"Download")):r.a.createElement(O,{onDrop:function(e){if(e.length){var t=e[0];"audio/mpeg"===t.type&&o(t)}}},r.a.createElement("div",{className:"d-flex flex-column align-items-center p-5",style:{border:"2px dashed #ddd",borderRadius:10}},r.a.createElement("img",{src:a(127),width:96,alt:"music"}),r.a.createElement("p",{className:"mt-3"},"Drag n drop music file here, or click to select file"))))))},P=function(){return N()};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},58:function(e,t,a){e.exports=a(128)},63:function(e,t,a){},65:function(e,t,a){}},[[58,1,2]]]);
//# sourceMappingURL=main.94949277.chunk.js.map